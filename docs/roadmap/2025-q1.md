# Roadmap 2025 Q1: Command Structure Expansion

## Overview

Expand gh-please extension from 2 commands to a full-featured GitHub automation tool with AI triggers and issue/PR management.

**Timeline**: January - March 2025
**Version Target**: v0.2.0

## Milestones

### Milestone 1: Foundation (Week 1-2)

**Target**: End of Week 2
**Goal**: Complete infrastructure for all future commands

**Deliverables**:

- GraphQL client implementation
- REST API extensions
- PleaseAI trigger system
- Core type definitions
- Unit tests for infrastructure

**Success Criteria**:

- All `lib/` functions tested and working
- Documentation for using GraphQL/REST clients
- Sub-issue creation working in test environment

**Issues**: #1 (Infrastructure)

---

### Milestone 2: AI Triggers (Week 3)

**Target**: End of Week 3
**Goal**: Enable PleaseAI workflow automation via CLI

**Deliverables**:

- `gh please ai triage`
- `gh please ai investigate`
- `gh please ai fix`
- `gh please ai review`
- `gh please ai apply`
- Integration tests

**Success Criteria**:

- All 5 AI commands create correct trigger comments
- Help text clear and accurate
- Error messages helpful

**Issues**: #2 (AI Trigger Commands)

---

### Milestone 3: Issue Management (Week 4-5)

**Target**: End of Week 5
**Goal**: Direct issue manipulation capabilities

**Deliverables**:

- Sub-issue management (create, add, list)
- Dependency management (add, remove, list)
- GraphQL query optimization
- Integration tests

**Success Criteria**:

- Can create hierarchical issue structures
- Can set up blocked_by dependencies
- List commands show useful output

**Issues**: #3 (Sub-issue), #4 (Dependency)

---

### Milestone 4: PR Management (Week 6)

**Target**: End of Week 6
**Goal**: Enhanced PR workflow tools

**Deliverables**:

- `review-reply` refactored to `pr review-reply`
- Deprecation warning for old command
- `gh please pr resolve` for thread resolution
- Integration tests

**Success Criteria**:

- Existing users see helpful deprecation message
- Can resolve individual or all threads
- No breaking changes

**Issues**: #5 (Review-reply refactor), #6 (Resolve threads)

---

### Milestone 5: Polish & Release (Week 7-8)

**Target**: End of Week 8
**Goal**: Production-ready v0.2.0 release

**Deliverables**:

- Test coverage >80%
- CLAUDE.md updated with new commands
- README with examples
- Migration guide
- Release notes

**Success Criteria**:

- All tests passing
- Documentation complete
- No critical bugs
- Performance acceptable

**Issues**: #7 (Testing & Documentation)

---

## Release Plan

### v0.2.0-alpha.1 (Week 3)

- AI trigger commands only
- Internal testing

### v0.2.0-alpha.2 (Week 5)

- AI + Issue management
- Limited external testing

### v0.2.0-beta.1 (Week 6)

- All features except resolve
- Wider testing

### v0.2.0-rc.1 (Week 7)

- All features complete
- Bug fixes only

### v0.2.0 (Week 8)

- Production release
- Full documentation
- Migration guide published

---

## Dependencies & Critical Path

```
Infrastructure (#1)
  ├─→ AI Triggers (#2) ─────┐
  ├─→ Sub-issue (#3) ───────┤
  ├─→ Dependency (#4) ──────┼─→ Testing & Docs (#7)
  ├─→ Review-reply (#5) ────┤
  │    └─→ Resolve (#6) ────┘
  └─→ [Critical Path] ──────┘
```

**Critical Path**: #1 → #2 → #7 (5 weeks minimum)

---

## Resource Allocation

**Development**: 18-26 hours estimated

- Infrastructure: 25% (4-6h)
- Features: 50% (9-13h)
- Testing & Docs: 25% (5-7h)

**Testing**: 4-6 hours

- Unit tests: 2h
- Integration tests: 2h
- Manual testing: 1-2h

**Documentation**: 2-3 hours

- ADR: ✅ Complete
- Plan: ✅ Complete
- Roadmap: ✅ Complete
- CLAUDE.md updates: 1h
- README: 1-2h

---

## Risks & Mitigation

### Risk 1: GraphQL API Complexity

**Likelihood**: Medium
**Impact**: High

**Mitigation**:

- Start with simple queries
- Test incrementally
- Document query patterns

### Risk 2: Breaking Changes

**Likelihood**: Low
**Impact**: High

**Mitigation**:

- Deprecation warnings
- Maintain old commands as aliases
- Clear migration guide

### Risk 3: PleaseAI API Changes

**Likelihood**: Low
**Impact**: Medium

**Mitigation**:

- Use comment triggers (decoupled)
- Document expected comment format
- Easy to update if format changes

### Risk 4: Testing Complexity

**Likelihood**: Medium
**Impact**: Medium

**Mitigation**:

- Mock all GitHub API calls
- Use fixtures for test data
- Focus on critical paths first

---

## Success Metrics

**Adoption**:

- [ ] 5+ users try new commands
- [ ] 0 critical bugs reported
- [ ] Positive feedback on command structure

**Quality**:

- [ ] Test coverage >80%
- [ ] All phases completed
- [ ] Documentation complete

**Performance**:

- [ ] Commands respond in <2s
- [ ] GraphQL queries optimized
- [ ] No N+1 query problems

---

## Post-v0.2.0 Ideas

**Future enhancements** (not in scope for Q1):

1. **Batch operations**
   - `gh please ai triage --all` (all open issues)
   - `gh please pr resolve --all-prs`

2. **Interactive mode**
   - `gh please issue sub-issue create` with prompts
   - Select from list of issues

3. **Templates**
   - Sub-issue templates
   - Trigger comment customization

4. **Reporting**
   - Show triage status
   - List all blocked issues

5. **GitHub Actions integration**
   - Auto-trigger on events
   - Scheduled triage runs

---

## Timeline Visualization

```
Week 1-2: [##########] Infrastructure
Week 3:   [##########] AI Triggers
Week 4-5: [##########] Issue Management
Week 6:   [##########] PR Management
Week 7-8: [##########] Testing & Release

Legend:
  [##########] Active development
  [----------] Planning/testing
  [==========] Released
```

---

## Communication Plan

**Weekly Updates**:

- Status report on milestones
- Blockers identified
- Help needed

**Release Announcements**:

- Alpha: Internal team only
- Beta: Early adopters
- RC: All users
- v0.2.0: Public announcement

**Documentation**:

- CHANGELOG.md updated per release
- Migration guide ready before v0.2.0
- Video demo (optional)

---

## References

- [ADR 001: Command Structure](../adr/001-command-structure.md)
- [Implementation Plan](../plan/command-expansion.md)
- [GitHub Issues](../../.github) (to be created)
