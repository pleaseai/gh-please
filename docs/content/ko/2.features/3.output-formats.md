---
title: 자동화를 위한 JSON 출력
description: 스크립트, CI/CD, LLM 통합을 위한 기계 판독 가능한 JSON 출력
---

# 자동화를 위한 JSON 출력

`gh-please`는 모든 목록 명령어에 대해 JSON 출력을 지원하여 자동화, 스크립팅 및 LLM 통합을 가능하게 합니다.

## 개요

모든 목록 명령어는 GitHub CLI 패턴을 따르는 `--json` 플래그를 지원합니다:

```bash
--json [필드]    선택적 필드 선택과 함께 JSON 형식으로 출력
```

**기능:**
- ✅ GitHub CLI 호환 문법
- ✅ 최소 출력을 위한 필드 선택
- ✅ 자동화를 위한 기계 판독 가능 형식
- ✅ LLM 친화적 구조화된 데이터
- ✅ 파이프 친화적 (깨끗한 출력, 진행 메시지 없음)

## 기본 사용법

### 모든 필드 출력

```bash
# 모든 하위 이슈를 JSON으로 가져오기
gh please issue sub-issue list 123 --json
```

**출력:**
```json
[
  {
    "number": 124,
    "title": "인증 모듈 구현",
    "state": "OPEN",
    "nodeId": "I_kwDOABC123",
    "url": "https://github.com/owner/repo/issues/124"
  },
  {
    "number": 125,
    "title": "단위 테스트 추가",
    "state": "CLOSED",
    "nodeId": "I_kwDODEF456",
    "url": "https://github.com/owner/repo/issues/125"
  }
]
```

### 필드 선택

출력 크기를 줄이기 위해 특정 필드만 선택:

```bash
# 번호와 제목만 가져오기
gh please issue sub-issue list 123 --json number,title
```

**출력:**
```json
[
  {
    "number": 124,
    "title": "인증 모듈 구현"
  },
  {
    "number": 125,
    "title": "단위 테스트 추가"
  }
]
```

## 명령어별 사용 가능한 필드

### 이슈 하위 이슈

```bash
gh please issue sub-issue list <이슈번호> --json [필드]
```

**필드:** `number`, `title`, `state`, `nodeId`, `url`

```bash
# 예시: 열린 하위 이슈 가져오기
gh please issue sub-issue list 123 --json number,title,state
```

### 이슈 의존성

```bash
gh please issue dependency list <이슈번호> --json [필드]
```

**필드:** `number`, `title`, `state`, `nodeId`, `url`

```bash
# 예시: 차단 이슈 확인
gh please issue dependency list 200 --json
```

### PR 리뷰 스레드

```bash
gh please pr review thread list <PR번호> --json [필드]
```

**필드:** `nodeId`, `isResolved`, `path`, `line`, `resolvedBy`, `firstCommentBody`, `url`

```bash
# 예시: 미해결 스레드 가져오기
gh please pr review thread list 456 --unresolved-only --json nodeId,path,line
```

### 이슈 댓글

```bash
gh please issue comment list <이슈번호> --json [필드]
```

**필드:** `id`, `body`, `author`, `createdAt`, `updatedAt`, `url`

```bash
# 예시: 댓글 ID와 작성자 가져오기
gh please issue comment list 789 --json id,author
```

### PR 리뷰 댓글

```bash
gh please pr review comment list <PR번호> --json [필드]
```

**필드:** `id`, `body`, `author`, `path`, `line`, `createdAt`, `updatedAt`, `url`

```bash
# 예시: 파일 위치와 함께 댓글 가져오기
gh please pr review comment list 456 --json id,path,line,body
```

## jq와 통합

강력한 필터링과 변환을 위해 JSON 출력을 [jq](https://jqlang.github.io/jq/)로 처리:

### 상태별 필터링

```bash
# 열린 하위 이슈만 가져오기
gh please issue sub-issue list 123 --json | jq '.[] | select(.state == "OPEN")'

# 열린 이슈 개수 세기
gh please issue sub-issue list 123 --json | jq '[.[] | select(.state == "OPEN")] | length'
```

### 특정 데이터 추출

```bash
# 이슈 번호만 가져오기
gh please issue sub-issue list 123 --json number

# 미해결 스레드 경로 가져오기
gh please pr review thread list 456 --unresolved-only --json path | jq -r '.[].path' | sort -u
```

### 복잡한 쿼리

```bash
# 제목과 함께 열린 이슈 가져오기
gh please issue sub-issue list 123 --json | jq '.[] | select(.state == "OPEN") | {number, title}'

# 작성자별로 댓글 그룹화
gh please issue comment list 789 --json | jq 'group_by(.author) | map({author: .[0].author, count: length})'
```

## 사용 사례

### 셸 스크립팅

```bash
#!/bin/bash
# 모든 하위 이슈가 닫혔는지 확인

sub_issues=$(gh please issue sub-issue list 123 --json state)
open_count=$(echo "$sub_issues" | jq '[.[] | select(.state == "OPEN")] | length')

if [ "$open_count" -eq 0 ]; then
  echo "✅ 모든 하위 이슈가 닫혔습니다!"
else
  echo "⚠️  $open_count 개의 하위 이슈가 아직 열려있습니다"
fi
```

### CI/CD 통합

```yaml
# GitHub Actions 예시
- name: 차단 의존성 확인
  run: |
    blockers=$(gh please issue dependency list ${{ github.event.issue.number }} --json)
    if [ "$(echo "$blockers" | jq 'length')" -gt 0 ]; then
      echo "::error::이슈에 차단 의존성이 있습니다"
      exit 1
    fi
```

### Python 통합

```python
import json
import subprocess

# 하위 이슈를 Python 객체로 가져오기
result = subprocess.run(
    ["gh", "please", "issue", "sub-issue", "list", "123", "--json"],
    capture_output=True,
    text=True
)

sub_issues = json.loads(result.stdout)

for issue in sub_issues:
    if issue["state"] == "OPEN":
        print(f"TODO: #{issue['number']} - {issue['title']}")
```

### LLM/AI 에이전트 통합

```bash
# Claude/ChatGPT에 구조화된 데이터 제공
gh please pr review thread list 456 --unresolved-only --json | \
  jq '{threads: [.[] | {location: .path, line: .line, comment: .firstCommentBody}]}' | \
  ai-agent --prompt "리뷰 피드백 요약"
```

## JSON 모드 동작

`--json` 사용 시:

✅ **깨끗한 출력:**
- 진행 메시지 억제
- stdout에 유효한 JSON만 출력
- 다른 명령어로 파이핑에 적합

✅ **에러 처리:**
- 에러는 여전히 stderr로 출력
- 사람이 읽을 수 있는 에러 메시지
- 실패 시 0이 아닌 종료 코드

✅ **필드 선택:**
- 데이터 가져온 후 필터링 수행
- 잘못된 필드명은 조용히 무시
- 빈 선택은 모든 필드 반환

## GitHub CLI와 비교

`--json` 플래그는 GitHub CLI 규칙을 따릅니다:

| 기능 | `gh` CLI | `gh-please` |
|------|----------|-------------|
| 플래그 문법 | `--json [필드]` | `--json [필드]` ✅ |
| 필드 선택 | 쉼표로 구분 | 쉼표로 구분 ✅ |
| 출력 형식 | JSON 배열/객체 | JSON 배열/객체 ✅ |
| 깨끗한 출력 | 예 | 예 ✅ |
| 파이프 친화적 | 예 | 예 ✅ |

**호환성 예시:**

```bash
# 두 명령어 모두 동일한 패턴 사용
gh issue list --json number,title,state
gh please issue sub-issue list 123 --json number,title,state
```

## Markdown/XML에서 마이그레이션 (ADR 0002)

이전 계획에는 Markdown 및 XML 출력 형식이 포함되어 있었지만, 다음 분석에 따라 **구현되지 않았습니다**:

- JSON이 Markdown/XML보다 LLM에서 더 정확하게 파싱됨
- 기계 판독 가능한 출력의 업계 표준
- 더 나은 도구 생태계 (jq, python json 등)
- 더 간단한 구현 및 유지보수

자세한 내용은 다음을 참조하세요:
- [ADR 0002 (거부됨)](/advanced/adr/0002-llm-friendly-output-formats)
- [ADR 0003 (구현됨)](/advanced/adr/0003-json-output-implementation)

## 예시

### 일일 워크플로우

```bash
# 아침 스탠드업: 내 열린 작업 확인
gh please issue sub-issue list 100 --json | \
  jq '.[] | select(.state == "OPEN") | "\(.number): \(.title)"'

# 병합 전: 미해결 스레드가 없는지 확인
gh please pr review thread list 456 --unresolved-only --json | \
  jq 'if length == 0 then "병합 준비 완료 ✅" else "미해결 스레드 있음 ⚠️" end'
```

### 리포팅

```bash
# 완료 리포트 생성
echo "## 하위 이슈 진행률"
total=$(gh please issue sub-issue list 123 --json | jq 'length')
closed=$(gh please issue sub-issue list 123 --json | jq '[.[] | select(.state == "CLOSED")] | length')
echo "진행률: $closed/$total ($(( closed * 100 / total ))%)"
```

## 관련 문서

- [이슈 관리](/features/issue-management) - 이슈 명령어
- [PR 관리](/features/pr-management) - PR 명령어
- [GitHub 워크플로우](/workflows/issue-workflow) - 전체 워크플로우 가이드
- [API 제한사항](/advanced/api-limitations) - 알려진 제약사항
