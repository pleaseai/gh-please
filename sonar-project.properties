# SonarCloud Configuration for gh-please
# Project: @pleaseai/gh-please
# Purpose: GitHub CLI extension for enhanced PR and issue workflows

# ============================================
# Project Information
# ============================================
# Note: Update these values based on your actual SonarCloud project settings
# You can find these at: https://sonarcloud.io → Your Project → Administration
sonar.projectKey=pleaseai_gh-please
sonar.organization=pleaseai

# Project metadata
sonar.projectName=gh-please
# x-release-please-start-version
sonar.projectVersion=0.16.0
# x-release-please-end
sonar.projectDescription=GitHub CLI extension providing enhanced functionality for managing pull requests and issue workflows

# ============================================
# Source Configuration
# ============================================
sonar.sources=src
sonar.tests=test

# Language
sonar.language=ts

# ============================================
# Duplication (Code Clone) Settings
# ============================================
# Exclude test code from duplication detection
# Rationale: Test code prioritizes clarity over DRY principle
# - AAA pattern (Arrange-Act-Assert) naturally creates repetition
# - Each test should be independent and readable
# - Test setup duplication is acceptable for clarity
sonar.cpd.exclusions=**/test/**/*.ts,**/*.test.ts,**/*.spec.ts,**/*.e2e.test.ts

# ============================================
# Test Detection
# ============================================
# Define what files should be recognized as tests
sonar.test.inclusions=test/**/*.ts,**/*.test.ts,**/*.spec.ts,**/*.e2e.test.ts

# ============================================
# Coverage Configuration
# ============================================
# LCOV coverage report path (generated by bun test --coverage)
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Exclude test files from coverage calculation
sonar.coverage.exclusions=**/test/**,**/*.test.ts,**/*.spec.ts,**/*.e2e.test.ts,**/*.config.ts

# ============================================
# Analysis Exclusions
# ============================================
# Exclude these directories/files from all analysis
sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/coverage/**,\
  **/*.config.js,\
  **/*.config.ts,\
  **/plugins/ai/**

# ============================================
# Source Encoding
# ============================================
sonar.sourceEncoding=UTF-8

# ============================================
# Additional Settings
# ============================================
# TypeScript/JavaScript specific settings
sonar.typescript.tsconfigPath=tsconfig.json

# Import paths (for better analysis)
sonar.sources.inclusions=**/*.ts

# Exclude generated files
sonar.exclusions=**/*.d.ts
